{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/mnt/c/Users/Filip/Documents/Dev/react-native-ui/react-native-ui/components/Chat.tsx\";\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { GiftedChat } from \"react-native-gifted-chat\";\nimport io from \"socket.io-client\";\nimport { View } from \"./Themed\";\nexport default function Chat() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      messages = _useState2[0],\n      setMessages = _useState2[1];\n\n  var socket = useRef(null);\n  useEffect(function () {\n    socket.current = io(\"http://192.168.0.18:3001\");\n    socket.current.on(\"message\", function (message) {\n      setMessages(function (prevState) {\n        return GiftedChat.append(prevState, message);\n      });\n    });\n  }, []);\n\n  var _onSend = useCallback(function () {\n    var messages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    socket.current.emit(\"message\", messages[0].text);\n    setMessages(function (prevState) {\n      return GiftedChat.append(prevState, messages);\n    });\n  }, []);\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, React.createElement(GiftedChat, {\n    renderUsernameOnMessage: true,\n    messages: messages,\n    onSend: function onSend(messages) {\n      return _onSend(messages);\n    },\n    user: {\n      _id: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }), Platform.OS === \"android\" && React.createElement(KeyboardAvoidingView, {\n    behavior: \"padding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 37\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  textInput: {\n    color: \"#fff\",\n    width: \"100%\",\n    height: \"100pt\",\n    backgroundColor: \"#fff\"\n  },\n  developmentModeText: {\n    marginBottom: 20,\n    fontSize: 14,\n    lineHeight: 19,\n    textAlign: \"center\"\n  },\n  contentContainer: {\n    paddingTop: 30\n  },\n  welcomeContainer: {\n    alignItems: \"center\",\n    marginTop: 10,\n    marginBottom: 20\n  },\n  welcomeImage: {\n    width: 100,\n    height: 80,\n    resizeMode: \"contain\",\n    marginTop: 3,\n    marginLeft: -10\n  },\n  getStartedContainer: {\n    alignItems: \"center\",\n    marginHorizontal: 50\n  },\n  homeScreenFilename: {\n    marginVertical: 7\n  },\n  codeHighlightText: {\n    color: \"rgba(96,100,109, 0.8)\"\n  },\n  codeHighlightContainer: {\n    borderRadius: 3,\n    paddingHorizontal: 4\n  },\n  getStartedText: {\n    fontSize: 17,\n    lineHeight: 24,\n    textAlign: \"center\"\n  },\n  helpContainer: {\n    marginTop: 15,\n    marginHorizontal: 20,\n    alignItems: \"center\"\n  },\n  helpLink: {\n    paddingVertical: 15\n  },\n  helpLinkText: {\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"sources":["/mnt/c/Users/Filip/Documents/Dev/react-native-ui/react-native-ui/components/Chat.tsx"],"names":["React","useState","useEffect","useRef","useCallback","GiftedChat","io","View","Chat","messages","setMessages","socket","current","on","message","prevState","append","onSend","emit","text","styles","container","_id","Platform","OS","StyleSheet","create","flex","backgroundColor","textInput","color","width","height","developmentModeText","marginBottom","fontSize","lineHeight","textAlign","contentContainer","paddingTop","welcomeContainer","alignItems","marginTop","welcomeImage","resizeMode","marginLeft","getStartedContainer","marginHorizontal","homeScreenFilename","marginVertical","codeHighlightText","codeHighlightContainer","borderRadius","paddingHorizontal","getStartedText","helpContainer","helpLink","paddingVertical","helpLinkText"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport {\n  StyleSheet,\n  Platform,\n  KeyboardAvoidingView,\n} from \"react-native\";\nimport { GiftedChat } from \"react-native-gifted-chat\";\nimport io from \"socket.io-client\";\n\nimport Colors from \"../constants/Colors\";\nimport { View } from \"./Themed\";\n\nexport default function Chat() {\n  const [messages, setMessages] = useState([]);\n  const socket: any = useRef(null);\n\n  useEffect(() => {\n    socket.current = io(\"http://192.168.0.18:3001\");\n    socket.current.on(\"message\", (message: any) => {\n      setMessages((prevState) => GiftedChat.append(prevState, message));\n    });\n  }, []);\n\n  const onSend = useCallback((messages = []) => {\n    socket.current.emit(\"message\", messages[0].text);\n    setMessages((prevState) => GiftedChat.append(prevState, messages));\n  }, [])\n\n\n  return (\n    <View style={styles.container}>\n        <GiftedChat\n          renderUsernameOnMessage={true}\n          messages={messages}\n          onSend={messages => onSend(messages)}\n          user={{\n            _id: 1,\n          }}\n        />\n      {Platform.OS === \"android\" && <KeyboardAvoidingView behavior=\"padding\" />}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n  },\n  textInput: {\n    color: \"#fff\",\n    width: \"100%\",\n    height: \"100pt\",\n    backgroundColor: \"#fff\",\n  },\n  developmentModeText: {\n    marginBottom: 20,\n    fontSize: 14,\n    lineHeight: 19,\n    textAlign: \"center\",\n  },\n  contentContainer: {\n    paddingTop: 30,\n  },\n  welcomeContainer: {\n    alignItems: \"center\",\n    marginTop: 10,\n    marginBottom: 20,\n  },\n  welcomeImage: {\n    width: 100,\n    height: 80,\n    resizeMode: \"contain\",\n    marginTop: 3,\n    marginLeft: -10,\n  },\n  getStartedContainer: {\n    alignItems: \"center\",\n    marginHorizontal: 50,\n  },\n  homeScreenFilename: {\n    marginVertical: 7,\n  },\n  codeHighlightText: {\n    color: \"rgba(96,100,109, 0.8)\",\n  },\n  codeHighlightContainer: {\n    borderRadius: 3,\n    paddingHorizontal: 4,\n  },\n  getStartedText: {\n    fontSize: 17,\n    lineHeight: 24,\n    textAlign: \"center\",\n  },\n  helpContainer: {\n    marginTop: 15,\n    marginHorizontal: 20,\n    alignItems: \"center\",\n  },\n  helpLink: {\n    paddingVertical: 15,\n  },\n  helpLinkText: {\n    textAlign: \"center\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}