{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/mnt/c/Users/Filip/Documents/Dev/react-native-ui/react-native-ui/components/ChatComponent.tsx\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { GiftedChat } from \"react-native-gifted-chat\";\nimport io from \"socket.io-client\";\nimport { Join } from \"./Join\";\nimport { View } from \"./Themed\";\nexport default function ChatComponent(_ref) {\n  var path = _ref.path;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      userIsJoined = _useState2[0],\n      setUserIsJoined = _useState2[1];\n\n  var _useState3 = useState(Array()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      receivedMessages = _useState4[0],\n      setReceivedMessages = _useState4[1];\n\n  var socket = useRef(null);\n  useEffect(function () {\n    socket.current = io(\"http://192.168.0.18:3001\");\n    socket.current.on(\"messageEvent\", function (message) {\n      setReceivedMessages(function (prevState) {\n        return GiftedChat.append(prevState, message);\n      });\n    });\n  }, []);\n\n  var sendMessage = function sendMessage(messages) {\n    socket.current.emit(\"messageEvent\", messages[0].text);\n    setReceivedMessages(function (prevState) {\n      return GiftedChat.append(prevState, messages);\n    });\n  };\n\n  var joinChat = function joinChat(username) {\n    socket.current.emit(\"join\", username);\n    setUserIsJoined(true);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, userIsJoined ? React.createElement(GiftedChat, {\n    renderUsernameOnMessage: true,\n    messages: receivedMessages,\n    onSend: function onSend(receivedMessages) {\n      return sendMessage(receivedMessages);\n    },\n    user: {\n      _id: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }) : React.createElement(Join, {\n    joinChat: joinChat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), Platform.OS === \"android\" && React.createElement(KeyboardAvoidingView, {\n    behavior: \"padding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 37\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  textInput: {\n    color: \"#fff\",\n    width: \"100%\",\n    height: \"100pt\",\n    backgroundColor: \"#fff\"\n  },\n  developmentModeText: {\n    marginBottom: 20,\n    fontSize: 14,\n    lineHeight: 19,\n    textAlign: \"center\"\n  },\n  contentContainer: {\n    paddingTop: 30\n  },\n  welcomeContainer: {\n    alignItems: \"center\",\n    marginTop: 10,\n    marginBottom: 20\n  },\n  welcomeImage: {\n    width: 100,\n    height: 80,\n    resizeMode: \"contain\",\n    marginTop: 3,\n    marginLeft: -10\n  },\n  getStartedContainer: {\n    alignItems: \"center\",\n    marginHorizontal: 50\n  },\n  homeScreenFilename: {\n    marginVertical: 7\n  },\n  codeHighlightText: {\n    color: \"rgba(96,100,109, 0.8)\"\n  },\n  codeHighlightContainer: {\n    borderRadius: 3,\n    paddingHorizontal: 4\n  },\n  getStartedText: {\n    fontSize: 17,\n    lineHeight: 24,\n    textAlign: \"center\"\n  },\n  helpContainer: {\n    marginTop: 15,\n    marginHorizontal: 20,\n    alignItems: \"center\"\n  },\n  helpLink: {\n    paddingVertical: 15\n  },\n  helpLinkText: {\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"sources":["/mnt/c/Users/Filip/Documents/Dev/react-native-ui/react-native-ui/components/ChatComponent.tsx"],"names":["React","useState","useEffect","useRef","GiftedChat","io","Join","View","ChatComponent","path","userIsJoined","setUserIsJoined","Array","receivedMessages","setReceivedMessages","socket","current","on","message","prevState","append","sendMessage","messages","emit","text","joinChat","username","styles","container","_id","Platform","OS","StyleSheet","create","flex","backgroundColor","textInput","color","width","height","developmentModeText","marginBottom","fontSize","lineHeight","textAlign","contentContainer","paddingTop","welcomeContainer","alignItems","marginTop","welcomeImage","resizeMode","marginLeft","getStartedContainer","marginHorizontal","homeScreenFilename","marginVertical","codeHighlightText","codeHighlightContainer","borderRadius","paddingHorizontal","getStartedText","helpContainer","helpLink","paddingVertical","helpLinkText"],"mappings":"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","sourcesContent":["import * as WebBrowser from \"expo-web-browser\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport {\n  StyleSheet,\n  TouchableOpacity,\n  TextInput,\n  Platform,\n  KeyboardAvoidingView,\n} from \"react-native\";\nimport { GiftedChat } from \"react-native-gifted-chat\";\nimport io from \"socket.io-client\";\n\nimport Colors from \"../constants/Colors\";\nimport { Join } from \"./Join\";\nimport { MonoText } from \"./StyledText\";\nimport { Text, View } from \"./Themed\";\n\nexport default function ChatComponent({ path }: { path: string }) {\n  const [userIsJoined, setUserIsJoined] = useState(false);\n  const [receivedMessages, setReceivedMessages] = useState(Array());\n  const socket: any = useRef(null);\n\n  useEffect(() => {\n    socket.current = io(\"http://192.168.0.18:3001\");\n    socket.current.on(\"messageEvent\", (message: any) => {\n      setReceivedMessages((prevState) => GiftedChat.append(prevState, message));\n    });\n  }, []);\n\n  const sendMessage = (messages: any) => {\n    socket.current.emit(\"messageEvent\", messages[0].text);\n    setReceivedMessages((prevState) => GiftedChat.append(prevState, messages));\n  };\n\n  const joinChat = (username: string) => {\n    socket.current.emit(\"join\", username);\n    setUserIsJoined(true);\n  };\n\n  return (\n    <View style={styles.container}>\n      {userIsJoined ? (\n        <GiftedChat\n          renderUsernameOnMessage={true}\n          messages={receivedMessages}\n          onSend={receivedMessages => sendMessage(receivedMessages)}\n          user={{\n            _id: 1,\n          }}\n        />\n      ) : (\n        <Join joinChat={joinChat} />\n      )}\n      {Platform.OS === \"android\" && <KeyboardAvoidingView behavior=\"padding\" />}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n  },\n  textInput: {\n    color: \"#fff\",\n    width: \"100%\",\n    height: \"100pt\",\n    backgroundColor: \"#fff\",\n  },\n  developmentModeText: {\n    marginBottom: 20,\n    fontSize: 14,\n    lineHeight: 19,\n    textAlign: \"center\",\n  },\n  contentContainer: {\n    paddingTop: 30,\n  },\n  welcomeContainer: {\n    alignItems: \"center\",\n    marginTop: 10,\n    marginBottom: 20,\n  },\n  welcomeImage: {\n    width: 100,\n    height: 80,\n    resizeMode: \"contain\",\n    marginTop: 3,\n    marginLeft: -10,\n  },\n  getStartedContainer: {\n    alignItems: \"center\",\n    marginHorizontal: 50,\n  },\n  homeScreenFilename: {\n    marginVertical: 7,\n  },\n  codeHighlightText: {\n    color: \"rgba(96,100,109, 0.8)\",\n  },\n  codeHighlightContainer: {\n    borderRadius: 3,\n    paddingHorizontal: 4,\n  },\n  getStartedText: {\n    fontSize: 17,\n    lineHeight: 24,\n    textAlign: \"center\",\n  },\n  helpContainer: {\n    marginTop: 15,\n    marginHorizontal: 20,\n    alignItems: \"center\",\n  },\n  helpLink: {\n    paddingVertical: 15,\n  },\n  helpLinkText: {\n    textAlign: \"center\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}